!function(n){var e={};function t(i){if(e[i])return e[i].exports;var r=e[i]={i:i,l:!1,exports:{}};return n[i].call(r.exports,r,r.exports,t),r.l=!0,r.exports}t.m=n,t.c=e,t.d=function(n,e,i){t.o(n,e)||Object.defineProperty(n,e,{enumerable:!0,get:i})},t.r=function(n){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(n,"__esModule",{value:!0})},t.t=function(n,e){if(1&e&&(n=t(n)),8&e)return n;if(4&e&&"object"==typeof n&&n&&n.__esModule)return n;var i=Object.create(null);if(t.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:n}),2&e&&"string"!=typeof n)for(var r in n)t.d(i,r,function(e){return n[e]}.bind(null,r));return i},t.n=function(n){var e=n&&n.__esModule?function(){return n.default}:function(){return n};return t.d(e,"a",e),e},t.o=function(n,e){return Object.prototype.hasOwnProperty.call(n,e)},t.p="",t(t.s=1)}([function(n,e,t){"use strict";n.exports=function(n){var e=[];return e.toString=function(){return this.map((function(e){var t=function(n,e){var t=n[1]||"",i=n[3];if(!i)return t;if(e&&"function"==typeof btoa){var r=(s=i,a=btoa(unescape(encodeURIComponent(JSON.stringify(s)))),d="sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(a),"/*# ".concat(d," */")),o=i.sources.map((function(n){return"/*# sourceURL=".concat(i.sourceRoot||"").concat(n," */")}));return[t].concat(o).concat([r]).join("\n")}var s,a,d;return[t].join("\n")}(e,n);return e[2]?"@media ".concat(e[2]," {").concat(t,"}"):t})).join("")},e.i=function(n,t,i){"string"==typeof n&&(n=[[null,n,""]]);var r={};if(i)for(var o=0;o<this.length;o++){var s=this[o][0];null!=s&&(r[s]=!0)}for(var a=0;a<n.length;a++){var d=[].concat(n[a]);i&&r[d[0]]||(t&&(d[2]?d[2]="".concat(t," and ").concat(d[2]):d[2]=t),e.push(d))}},e}},function(n,e,t){"use strict";t.r(e);t(2);const i=document.getElementById("mode-choose-cover"),r="https://deckofcardsapi.com/api/deck/",o=(n,e)=>{fetch(n).then(n=>n.json()).then(e)};class s{constructor(n){this.deckId=n,this.players=[],this.mode=null}initPlayer(n){return new l(this.deckId,n)}setNewGame(n){this.mode=n,"single"===n?this.startSingleGame():this.startMultiplGame(),i.classList.add("hidden")}shuffleTheDesk(){o(`${r}${this.deckId}/shuffle/`)}doubleAceWin(){setTimeout(()=>{alert("You win with double ACE!"),this.endGame()},300)}checkInstantWin(n){22===this.players[n].points&&this.doubleAceWin()}startSingleGame(){const n=this.initPlayer(1);this.players.push(n),n.start(),setTimeout(()=>{this.checkInstantWin(0)},400)}startMultiplGame(){for(let n=1;n<6;n++){const e=this.initPlayer(n);this.players.push(e)}this.players[0].start(),setTimeout(()=>{this.checkInstantWin(0)},300)}clearTable(){this.players.forEach(n=>{n.clearHand()})}findPlayer(n){let e;return this.players.forEach(t=>{const i=t.counter.id.slice(-1);n===i&&(e=i-1)}),e}getCard(n,e){const t=this.findPlayer(n);this.players[t].getCard(e),setTimeout(()=>{this.players[t].points>=22&&(alert(`Player ${t+1} loose :(`),"single"===this.mode?this.endGame():this.stopMulti(t))},400)}checkLastPlayerWin(n){let e=!0;for(let t=0;t<n;t++){this.players[t].points<=21&&(e=!1)}return e}showNextPlayer(n){this.players[n].start(),setTimeout(()=>{this.checkInstantWin(n),4===n&&this.checkLastPlayerWin(n)&&(alert("Last Player wins!"),this.endGame())},400),this.players[n].showPlayerBtn()}async createBot(){const n=new l(this.deckId,5);n.start(),n.hidePleyerBtn(),this.players.push(n),setTimeout(()=>{n.points<=14&&n.getCard(1),setTimeout(()=>{const e=this.players[0].points,t=n.points;e>t?alert("Playr wins!"):e<t?alert("You lose!"):alert("Draw!"),this.endGame()},400)},400)}stopSingle(n){this.createBot()}setWinner(){let n,e=[],t=[];[...this.players].forEach(n=>{n.points<=21&&t.push(n)});const i=t.sort((n,e)=>e.points-n.points);n=i[0].points,i.forEach(t=>{t.points===n&&e.push(t.id)});const r=e.length;0===r?alert("There are no winners :("):1===r?alert(`Player${e[0]} wins!`):alert("Draw for payers: "+e.join(", ")),this.endGame()}stopMulti(n){this.players[n].hidePleyerBtn();const e=n+1;e<5?this.showNextPlayer(e):this.setWinner()}stopTurn(n){const e=this.findPlayer(n);"single"===this.mode?this.stopSingle(e):this.stopMulti(e)}endGame(){this.shuffleTheDesk(),this.clearTable(),i.classList.remove("hidden")}}let a;const d=localStorage.getItem("id");d?a=new s(d):o("https://deckofcardsapi.com/api/deck/new/shuffle/?deck_count=1",n=>{const e=n.deck_id;a=new s(e),localStorage.setItem("id",""+e)});class l{constructor(n,e){this.points=0,this.hand=document.getElementById("player-hand-"+e),this.counter=document.getElementById("counter-player-"+e),this.hitBtn=document.getElementById("player-hit-"+e),this.stopBtn=document.getElementById("player-stop-"+e),this.deckId=n,this.id=e}showPlayerBtn(){this.hitBtn.classList.remove("hidden"),this.stopBtn.classList.remove("hidden")}hidePleyerBtn(){this.hitBtn.classList.add("hidden"),this.stopBtn.classList.add("hidden")}start(){this.showPlayerBtn(),this.getCard(2)}getCardValue(n){switch(n){case"JACK":return 2;case"QUEEN":return 3;case"KING":return 4;case"ACE":return 11;default:return+n}}createCardImg(n){this.points+=this.getCardValue(n.value);const e=n.image,t=document.createElement("img");t.src=e,this.hand.appendChild(t)}drawCards(n){n.cards.forEach(n=>{this.createCardImg(n);const e=`Player${this.id}: ${this.points}`;this.counter.innerHTML=e})}getCard(n){return o(`${r}${this.deckId}/draw/?count=${n}`,this.drawCards.bind(this))}clearHand(){this.points=0,this.hand.innerHTML="",this.counter.innerHTML="",""==this.hitBtn.classList&&this.hidePleyerBtn()}alertPoints(){21===this.points?alert(`You have ${this.points} points, nice hand!`):alert(`You have ${this.points} points.`)}}const c=document.getElementById("mode-choose-s"),h=document.getElementById("mode-choose-m"),u=n=>{a.players=[];const e=n.path[0].id.substr(-1);"s"===e?a.setNewGame("single"):"m"===e&&a.setNewGame("multiplayer")};c.addEventListener("click",u),h.addEventListener("click",u);let p=[],m=[];!function(){for(let n=1;n<6;n++){const e=document.getElementById("player-stop-"+n);m.push(e);const t=document.getElementById("player-hit-"+n);p.push(t)}}();const f=n=>{const e=n.path[0].id.slice(-1);a.getCard(e,1)};function g(){const n=event.path[0].id.slice(-1);a.stopTurn(n)}p.forEach(n=>{n.addEventListener("click",f)}),m.forEach(n=>{n.addEventListener("click",g)})},function(n,e,t){var i=t(3),r=t(4);"string"==typeof(r=r.__esModule?r.default:r)&&(r=[[n.i,r,""]]);var o={insert:"head",singleton:!1};i(r,o);n.exports=r.locals||{}},function(n,e,t){"use strict";var i,r=function(){return void 0===i&&(i=Boolean(window&&document&&document.all&&!window.atob)),i},o=function(){var n={};return function(e){if(void 0===n[e]){var t=document.querySelector(e);if(window.HTMLIFrameElement&&t instanceof window.HTMLIFrameElement)try{t=t.contentDocument.head}catch(n){t=null}n[e]=t}return n[e]}}(),s=[];function a(n){for(var e=-1,t=0;t<s.length;t++)if(s[t].identifier===n){e=t;break}return e}function d(n,e){for(var t={},i=[],r=0;r<n.length;r++){var o=n[r],d=e.base?o[0]+e.base:o[0],l=t[d]||0,c="".concat(d," ").concat(l);t[d]=l+1;var h=a(c),u={css:o[1],media:o[2],sourceMap:o[3]};-1!==h?(s[h].references++,s[h].updater(u)):s.push({identifier:c,updater:g(u,e),references:1}),i.push(c)}return i}function l(n){var e=document.createElement("style"),i=n.attributes||{};if(void 0===i.nonce){var r=t.nc;r&&(i.nonce=r)}if(Object.keys(i).forEach((function(n){e.setAttribute(n,i[n])})),"function"==typeof n.insert)n.insert(e);else{var s=o(n.insert||"head");if(!s)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");s.appendChild(e)}return e}var c,h=(c=[],function(n,e){return c[n]=e,c.filter(Boolean).join("\n")});function u(n,e,t,i){var r=t?"":i.media?"@media ".concat(i.media," {").concat(i.css,"}"):i.css;if(n.styleSheet)n.styleSheet.cssText=h(e,r);else{var o=document.createTextNode(r),s=n.childNodes;s[e]&&n.removeChild(s[e]),s.length?n.insertBefore(o,s[e]):n.appendChild(o)}}function p(n,e,t){var i=t.css,r=t.media,o=t.sourceMap;if(r?n.setAttribute("media",r):n.removeAttribute("media"),o&&btoa&&(i+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(o))))," */")),n.styleSheet)n.styleSheet.cssText=i;else{for(;n.firstChild;)n.removeChild(n.firstChild);n.appendChild(document.createTextNode(i))}}var m=null,f=0;function g(n,e){var t,i,r;if(e.singleton){var o=f++;t=m||(m=l(e)),i=u.bind(null,t,o,!1),r=u.bind(null,t,o,!0)}else t=l(e),i=p.bind(null,t,e),r=function(){!function(n){if(null===n.parentNode)return!1;n.parentNode.removeChild(n)}(t)};return i(n),function(e){if(e){if(e.css===n.css&&e.media===n.media&&e.sourceMap===n.sourceMap)return;i(n=e)}else r()}}n.exports=function(n,e){(e=e||{}).singleton||"boolean"==typeof e.singleton||(e.singleton=r());var t=d(n=n||[],e);return function(n){if(n=n||[],"[object Array]"===Object.prototype.toString.call(n)){for(var i=0;i<t.length;i++){var r=a(t[i]);s[r].references--}for(var o=d(n,e),l=0;l<t.length;l++){var c=a(t[l]);0===s[c].references&&(s[c].updater(),s.splice(c,1))}t=o}}}},function(n,e,t){"use strict";t.r(e);var i=t(0),r=t.n(i)()(!1);r.push([n.i,'body {\n  margin: 0;\n  padding: 0;\n  font-family: "Arimo", sans-serif;\n  background: linear-gradient(90deg, #020024 0%, #4f906f 0%, #20934b 100%);\n}\n\nheader {\n  display: flex;\n  justify-content: center;\n  margin: 4% 0;\n}\nheader h1 {\n  margin: 0;\n  padding: 0.05em 0.25em;\n  font-weight: normal;\n  color: #d2e9ded2;\n  border-top: 2px solid #d2e9ded2;\n  border-bottom: 2px solid #d2e9ded2;\n}\n\nh3 {\n  color: #d2e9ded2;\n  font-weight: normal;\n  text-align: center;\n}\n\nbutton {\n  font-weight: bold;\n  background-color: #d2e9ded2;\n  border: none;\n  color: #4f906f;\n  border-radius: 1em;\n  padding: 0.5em 1em;\n}\n\n.btn-group button {\n  padding: 0.4em 0.7em;\n}\n\n.mode-choose-cover {\n  text-align: center;\n}\n\n.app-body {\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n}\n.app-body .mode-wrap {\n  height: 5em;\n}\n.app-body .desk {\n  margin: 4% 0;\n  display: flex;\n  width: 80%;\n  justify-content: space-between;\n}\n.app-body .hands {\n  position: relative;\n  margin-top: 10%;\n  display: flex;\n  width: 95%;\n  flex-direction: row;\n  justify-content: center;\n}\n\n.hand {\n  position: relative;\n}\n.hand span {\n  position: absolute;\n  top: 2.5em;\n  left: 0;\n  color: #d2e9ded2;\n  padding: 5em 0;\n  margin-top: 2em;\n}\n.hand .btn-group {\n  position: absolute;\n  top: 11em;\n  left: 0;\n}\n\n.hand:first-child {\n  position: absolute;\n  transform: rotate(30deg);\n  left: 10%;\n  top: -80%;\n}\n\n.hand:nth-child(2) {\n  position: absolute;\n  transform: rotate(15deg);\n  left: 27%;\n  top: -20%;\n}\n\n.hand:nth-child(4) {\n  position: absolute;\n  transform: rotate(-15deg);\n  right: 27%;\n  top: -20%;\n}\n\n.hand:last-child {\n  position: absolute;\n  transform: rotate(-30deg);\n  right: 10%;\n  top: -80%;\n}\n\n.shuffle-desk,\n.desk-pile,\n.hand {\n  width: 6.3em;\n  border: 2px solid #d2e9ded2;\n  border-radius: 0.5em;\n  height: 8.7em;\n}\n\n.card-holder {\n  position: relative;\n  width: inherit;\n  height: inherit;\n}\n.card-holder img {\n  position: absolute;\n  display: block;\n  width: inherit;\n}\n.card-holder img:nth-child(2) {\n  top: -15%;\n  right: -12%;\n  z-index: 2;\n}\n.card-holder img:nth-child(3) {\n  top: -30%;\n  right: -24%;\n  z-index: 3;\n}\n.card-holder img:nth-child(4) {\n  top: -45%;\n  right: -36%;\n  z-index: 4;\n}\n.card-holder img:nth-child(5) {\n  top: -60%;\n  right: -48%;\n  z-index: 5;\n}\n.card-holder img:nth-child(6) {\n  top: -75%;\n  right: -60%;\n  z-index: 6;\n}\n\n.hidden {\n  display: none;\n}\n\n@media only screen and (max-width: 1050px) {\n  .hand span {\n    font-size: 0.85em;\n    top: 0.5em !important;\n    left: 0;\n    margin-top: 0;\n  }\n  .hand .btn-group {\n    padding: 0 !important;\n    top: 9em !important;\n    left: 0;\n  }\n  .hand .btn-group button {\n    padding: 0.1em 0.4em;\n  }\n}\n@media only screen and (max-width: 950px) {\n  .shuffle-desk,\n.desk-pile,\n.hand {\n    width: 4.2em;\n    border: 2px solid #d2e9ded2;\n    border-radius: 0.32em;\n    height: 5.8em;\n  }\n\n  .hand span {\n    top: 2.5em;\n    left: 0;\n    padding: 5em 0;\n    margin-top: 2em;\n  }\n  .hand .btn-group {\n    top: 11em;\n    left: 0;\n  }\n}\n@media only screen and (max-width: 650px) {\n  .shuffle-desk,\n.desk-pile,\n.hand {\n    width: 3.15em;\n    border: 1.5px solid #d2e9ded2;\n    border-radius: 0.25em;\n    height: 4.35em;\n  }\n}\n@media only screen and (max-width: 650px) {\n  .shuffle-desk,\n.desk-pile,\n.hand {\n    width: 3.15em;\n    border: 1.5px solid #d2e9ded2;\n    border-radius: 0.25em;\n    height: 4.35em;\n  }\n}\n@media only screen and (max-width: 550px) {\n  h1 {\n    font-size: 1.5em;\n  }\n\n  .hand:first-child {\n    transform: rotate(0deg);\n    left: 0;\n    top: 0;\n  }\n\n  .hand:nth-child(2) {\n    transform: rotate(0deg);\n    left: 20%;\n    top: 0;\n  }\n\n  .hand:nth-child(4) {\n    transform: rotate(0deg);\n    right: 20%;\n    top: 0;\n  }\n\n  .hand:last-child {\n    transform: rotate(0deg);\n    right: 0;\n    top: 0;\n  }\n}\n@media only screen and (max-width: 350px) {\n  .shuffle-desk,\n.desk-pile,\n.hand {\n    width: 2.1em;\n    border: 1px solid #d2e9ded2;\n    border-radius: 0.15em;\n    height: 2.9em;\n  }\n}',""]),e.default=r}]);